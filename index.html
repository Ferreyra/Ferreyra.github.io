<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="manifest" href="est_prog/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Reportes">
  <meta name="apple-mobile-web-app-title" content="Reportes">
  <meta name="theme-color" content="#000000">
  <meta name="msapplication-navbutton-color" content="#000000">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="msapplication-starturl" content="https://ferreyra.github.io/">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" type="image" sizes="512x512" href="https://ferreyra.github.io/icono.png">
  <link rel="apple-touch-icon" type="image" sizes="512x512" href="https://ferreyra.github.io/icono.png">
  <title>Reporte mantenimiento</title>
  <!--link rel="shortcut icon" href="icono.png" type="image/x-icon"-->
  <link rel="stylesheet" href="est_prog/bootstrap.min.css">
  <link rel="stylesheet" href="est_prog/estilo.css">
  <script>    
    if ('serviceWorker' in navigator) {     // Check that service workers are supported      
      window.addEventListener('load', () => {     
        navigator.serviceWorker.register("est_prog/sw.js")
      })
    }
  </script>

</head>
<body onload="leerDatos()">
  <div class="container-md">
    <div class="row py-2 my-1 justify-content-evenly" id="titulo">
      <div class="col-auto">
        <h3 class="text-white">Reporte mantenimiento preventivo</h3>
      </div>
      <div class="col-auto col-sm-4">
        <label class="visually-hidden" for="fechaInput" id="lFecha">Fecha:</label>
        <input type="text" class="form-control bg-dark text-white" id="fechaInput" placeholder="Fecha">
      </div>
    </div>
    <form class="row gy-2 gx-3 my-1 align-items-center" onsubmit="createPDF(event)">
      <div class="col-auto">
        <label class="visually-hidden" for="equipoInput" id="lEquipo">Equipo:</label>
        <input type="text" class="form-control bg-dark text-white" id="equipoInput" placeholder="Equipo" required>
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="marcaSelect" id="lMarca">Marca:</label>
        <input type="text" class="form-control bg-dark text-white" id="marcaInput" placeholder="Marca" required>
        <!-- <select class="form-select bg-dark text-white" id="marcaSelect">
          <option selected>Marca</option>
          <option value="1">Marca 1</option>
        </select> -->
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="modeloSelect" id="lModelo">Modelo:</label>
        <input type="text" class="form-control bg-dark text-white" id="modeloInput" placeholder="Modelo" required>
        <!-- <select class="form-select bg-dark text-white" id="modeloSelect">
          <option selected>Modelo</option>
          <option value="1">Modelo 1</option>
        </select> -->
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="serieInput" id="lSerie">Serie:</label>
        <input type="text" class="form-control bg-dark text-white" id="serieInput" placeholder="Número de serie" required>
      </div>
      <div class="col-auto">
        <label class="visually-hidden" for="serieInput" id="lUbica">Ubicación</label>
        <input type="text" class="form-control bg-dark text-white" id="ubicaInput" placeholder="Ubicación" required>
      </div>   

    <div class="row mt-3 mx-0 pb-1 borde-inf">
      <div class="text-center text-white">
        Identicicacion de equipo
      </div>      
    </div>
    <div class="row mt-1 mx-0 gx-2">
      <div class="col ">
        <div class="input-group-sm">                 
          <label for="inputIdent" class="text-white">Placa de identificacíon</label>
          <input type="file" class="form-control bg-dark text-white" id="inputIdent" accept=".jpg, .jpeg" title="Identificación" onchange="onFileSelected(event, 'imgIdent')">
          <img class="visually-hidden" id="imgIdent" height="124">
        </div>
      </div>
      <div class="col ">
        <div class="input-group-sm">
          <label for="inputClave" class="text-white">Clave CABMS</label>
          <input type="file" class="form-control bg-dark text-white" id="inputClave" accept=".jpg, .jpeg" title="Clave" onchange="onFileSelected(event, 'imgClave')">
          <img class="visually-hidden" id="imgClave" height="124">
        </div>
      </div>
    </div>
    <div class="row mt-2 mx-0 borde-inf">
      <div class="text-center text-white">
        Antes del servicio
      </div>
    </div>
    <div class="row mt-2 mx-0 gx-2">
      <div class="col ">
        <div class="input-group-sm">          
          <input type="file" class="form-control bg-dark text-white" id="inputAnts1" accept=".jpg, .jpeg" title="Antes 1" onchange="onFileSelected(event, 'imgAnts1')">
          <img class="visually-hidden" id="imgAnts1" height="124">
        </div>
      </div>
      <div class="col ">
        <div class="input-group-sm">          
          <input type="file" class="form-control bg-dark text-white" id="inputAnts2" accept=".jpg, .jpeg" title="Antes 2" onchange="onFileSelected(event, 'imgAnts2')">
          <img class="visually-hidden" id="imgAnts2" height="124">
        </div>
      </div>
    </div>
    <div class="row mt-2 mx-0 borde-inf">
      <div class="text-center text-white">
        Durante el servicio
      </div>
    </div>
    <div class="row mt-2 mx-0 gx-2">
      <div class="col ">
        <div class="input-group-sm">          
          <input type="file" class="form-control bg-dark text-white" id="inputDurant1" accept=".jpg, .jpeg" title="Durante 1" onchange="onFileSelected(event, 'imgDurant1')">
          <img class="visually-hidden" id="imgDurant1" height="124">
        </div>
      </div>
      <div class="col ">
        <div class="input-group-sm">          
          <input type="file" class="form-control bg-dark text-white" id="inputDurant2" accept=".jpg, .jpeg" title="Durante 2" onchange="onFileSelected(event, 'imgDurant2')">
          <img class="visually-hidden" id="imgDurant2" height="124">
        </div>
      </div>
    </div>
    <div class="row mt-3 mx-0 borde-inf">
      <div class="text-center text-white">
        Después del servicio
      </div>
    </div>
    <div class="row mt-2 mx-0 gx-2">
      <div class="col ">
        <div class="input-group-sm">          
          <input type="file" class="form-control bg-dark text-white" id="inputDespues1" accept=".jpg, .jpeg" title="Despues 1" onchange="onFileSelected(event, 'imgDespues1')">
          <img class="visually-hidden" id="imgDespues1" height="124">
        </div>
      </div>
      <div class="col ">
        <div class="input-group-sm">          
          <input type="file" class="form-control bg-dark text-white" id="inputDespues2" accept=".jpg, .jpeg" title="Despues 2" onchange="onFileSelected(event, 'imgDespues2')">
          <img class="visually-hidden" id="imgDespues2" height="124">
        </div>
      </div>
    </div>
    <div class="row my-4 mx-0">
      <div class="text-center">
        <button type="submit" class="btn btn-primary px-4" data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop" aria-controls="offcanvasTop">Generar PDF</button>
      </div>
    </div>
    </form>
  </div>

  <div class="offcanvas offcanvas-top mx-3" style="height: 90%;" tabindex="-1" id="offcanvasTop" aria-labelledby="offcanvasTopLabel">
    <div class="offcanvas-header p-2">
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body p-0">
      <iframe src="" frameborder="0" style="width: 100%; height: 100%;" id="iframePDF"></iframe>
    </div>
    <div class="p-2 text-center">
      <button type="button" class="btn btn-primary btn-sm px-5" id="btnDescargar">Descargar</button>
    </div>
  </div>
  <footer></footer>

  <script src="est_prog/bootstrap.min.js"></script>
  <script src="est_prog/scripts.js"></script>
  <script src="est_prog/jspdf.min.js"></script>
</body>
</html>
